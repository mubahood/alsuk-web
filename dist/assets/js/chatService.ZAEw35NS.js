var e=(e,t,r)=>new Promise(((a,n)=>{var d=e=>{try{s(r.next(e))}catch(t){n(t)}},o=e=>{try{s(r.throw(e))}catch(t){n(t)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(d,o);s((r=r.apply(e,t)).next())}));import{h as t,f as r,k as a}from"./index.Rs0UfOkt.js";const n=new class{startChat(r){return e(this,null,(function*(){try{return yield t("chat-start",{sender_id:r.sender_id,receiver_id:r.receiver_id,product_id:r.product_id})}catch(e){throw e}}))}sendMessage(r){return e(this,null,(function*(){try{return yield t("chat-send",{chat_head_id:r.chat_head_id,sender_id:r.sender_id,receiver_id:r.receiver_id,body:r.body,type:r.type||"text"})}catch(e){throw e}}))}markAsRead(r){return e(this,null,(function*(){try{return yield t("chat-mark-as-read",{chat_head_id:r.chat_head_id,user_id:r.user_id})}catch(e){throw e}}))}getChatHeads(){return e(this,null,(function*(){try{return yield r("chat-heads")}catch(e){throw e}}))}getChatMessages(t){return e(this,null,(function*(){try{return yield r("chat-messages",{chat_head_id:t})}catch(e){throw e}}))}deleteChatHead(r){return e(this,null,(function*(){try{return yield t("chat-head-delete",{chat_head_id:r})}catch(e){throw e}}))}getImageUrl(e){return e&&""!==e.trim()?`${a}/storage/images/${e}`:"/assets/default-avatar.png"}timeAgo(e){const t=new Date(e),r=(new Date).getTime()-t.getTime(),a=Math.floor(r/1e3),n=Math.floor(a/60),d=Math.floor(n/60),o=Math.floor(d/24);return o>0?`${o}d ago`:d>0?`${d}h ago`:n>0?`${n}m ago`:"Just now"}getOtherUser(e,t){return t===e.customer_id?{id:e.product_owner_id,name:e.product_owner_name,photo:e.product_owner_photo}:{id:e.customer_id,name:e.customer_name,photo:e.customer_photo}}getMyUnreadCount(e,t){return t===e.product_owner_id?parseInt(e.product_owner_unread_messages_count)||0:parseInt(e.customer_unread_messages_count)||0}};export{n as c};
