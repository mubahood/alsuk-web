import{j as n}from"./vendor-bootstrap.BZxWRyST.js";import{r as e}from"./vendor-react.CSr-5IoM.js";import{L as r}from"./vendor-routing.Dz6WPNpl.js";import{b as o,u as a}from"./vendor-redux.rUoA4kI-.js";import{c as i,g as t,a as d}from"./index.DdZeyrNm.js";import{i as c,j as s}from"./index.Rs0UfOkt.js";if("undefined"!=typeof document){const n="product-card-styles";if(!document.getElementById(n)){const e=document.createElement("style");e.id=n,e.textContent="\n  .product-card {\n    background-color: #ffffff;\n    border-radius: 12px;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    transition: all 0.3s ease;\n    cursor: pointer;\n    border: 1px solid #f0f0f0;\n    position: relative;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n  }\n\n  .product-card:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);\n    border-color: #e0e0e0;\n  }\n\n  .product-card-image-container {\n    position: relative;\n    width: 100%;\n    aspect-ratio: 1;\n    overflow: hidden;\n    background: #ffffff;\n    border-bottom: 1px solid #f0f0f0;\n  }\n\n  .product-card-image {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n    background: #ffffff;\n    padding: 12px;\n    transition: transform 0.4s ease;\n  }\n\n  .product-card-image.loading {\n    opacity: 0;\n  }\n\n  .product-card-image.loaded {\n    opacity: 1;\n  }\n\n  .product-card:hover .product-card-image {\n    transform: scale(1.05);\n  }\n\n  .product-card-shimmer {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(\n      90deg,\n      #f8f9fa 0%,\n      #e9ecef 50%,\n      #f8f9fa 100%\n    );\n    background-size: 200% 100%;\n    animation: shimmer 1.5s infinite;\n    z-index: 1;\n  }\n\n  @keyframes shimmer {\n    0% { background-position: -200% 0; }\n    100% { background-position: 200% 0; }\n  }\n\n  .product-card-discount-badge {\n    position: absolute;\n    top: 12px;\n    left: 12px;\n    background: linear-gradient(135deg, #F75E1E, #e84e0f);\n    color: #ffffff;\n    padding: 6px 10px;\n    border-radius: 20px;\n    font-size: 11px;\n    font-weight: 600;\n    z-index: 3;\n    line-height: 1;\n    box-shadow: 0 2px 8px rgba(247, 94, 30, 0.3);\n  }\n\n  .product-card-info {\n    padding: 16px;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .product-card-name {\n    font-size: 14px;\n    font-weight: 500;\n    color: #1a1a1a;\n    margin: 0;\n    line-height: 1.4;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    height: 2.8em;\n    text-decoration: none;\n  }\n\n  .product-card-pricing {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    margin-top: 4px;\n  }\n\n  .product-card-price-new {\n    font-size: 16px;\n    font-weight: 700;\n    color: #114786;\n    margin: 0;\n    line-height: 1.2;\n  }\n\n  .product-card-price-old {\n    font-size: 13px;\n    color: #999;\n    text-decoration: line-through;\n    margin: 0;\n    line-height: 1.2;\n  }\n\n  .product-card-reviews {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-top: 4px;\n  }\n\n  .product-card-review-stars {\n    display: flex;\n    gap: 2px;\n  }\n\n  .product-card-review-star {\n    font-size: 12px;\n    color: #ffc107;\n  }\n\n  .product-card-review-star.empty {\n    color: #e9ecef;\n  }\n\n  .product-card-review-count {\n    font-size: 12px;\n    color: #6c757d;\n    font-weight: 500;\n  }\n\n  /* Responsive Design */\n  @media (max-width: 991px) {\n    .product-card {\n      border-radius: 10px;\n    }\n    \n    .product-card-info {\n      padding: 14px;\n      gap: 6px;\n    }\n    \n    .product-card-name {\n      font-size: 13px;\n    }\n    \n    .product-card-price-new {\n      font-size: 15px;\n    }\n  }\n\n  @media (max-width: 575px) {\n    .product-card {\n      border-radius: 8px;\n    }\n    \n    .product-card-info {\n      padding: 12px;\n    }\n    \n    .product-card-name {\n      font-size: 12px;\n    }\n    \n    .product-card-price-new {\n      font-size: 14px;\n    }\n      font-size: 14px;\n    }\n    \n    .product-card-discount-badge {\n      padding: 4px 8px;\n      font-size: 10px;\n    }\n    \n    .product-card-review-star {\n      font-size: 11px;\n    }\n    \n    .product-card-review-count {\n      font-size: 11px;\n    }\n  }\n",document.head.appendChild(e)}}const p=({product:p,className:l="",showStock:f=!0})=>{o();const[u,x]=e.useState(!1);a((n=>c(n))),a((n=>s(n)));const m=i(p.price_2,p.price_1),g=parseFloat(p.price_1),h=parseFloat(p.price_2),b=Number(p.rating)||Number(p.average_rating)||0,v=Number(p.reviewsCount)||Number(p.review_count)||0;let w;w=p&&"getMainImage"in p&&"function"==typeof p.getMainImage?p.getMainImage():t(p);return n.jsxs("div",{className:`product-card ${l}`,children:[n.jsxs(r,{to:d(p.id),className:"product-card-image-container",children:[!u&&n.jsx("div",{className:"product-card-shimmer"}),n.jsx("img",{src:w,alt:p.name,className:"product-card-image "+(u?"loaded":"loading"),onLoad:()=>x(!0),onError:n=>{n.currentTarget.src="/media/svg/files/blank-image.svg",n.currentTarget.onerror=null,x(!0)}}),m>0&&n.jsxs("div",{className:"product-card-discount-badge",children:["-",m,"%"]})]}),n.jsxs("div",{className:"product-card-info",children:[n.jsx(r,{to:d(p.id),style:{textDecoration:"none"},children:n.jsx("h3",{className:"product-card-name",children:p.name})}),n.jsxs("div",{className:"product-card-pricing",children:[n.jsxs("div",{className:"product-card-price-new",children:["UGX ",g.toLocaleString()]}),h>g&&n.jsxs("div",{className:"product-card-price-old",children:["UGX ",h.toLocaleString()]})]}),n.jsx("div",{className:"product-card-reviews",children:b>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"product-card-review-stars",children:(e=>{const r=[],o=Math.floor(e),a=e%1!=0;for(let i=1;i<=5;i++)i<=o||i===o+1&&a?r.push(n.jsx("span",{className:"product-card-review-star",children:"★"},i)):r.push(n.jsx("span",{className:"product-card-review-star empty",children:"★"},i));return r})(b)}),n.jsxs("span",{className:"product-card-review-count",children:["(",v,")"]})]})})]})]})};export{p as P};
