import{j as s,a as e,R as r,b as a,B as i,c as n,S as l,A as d,F as c}from"./vendor-bootstrap.BZxWRyST.js";import{r as t}from"./vendor-react.CSr-5IoM.js";import{L as o}from"./vendor-routing.Dz6WPNpl.js";import{b as h,n as x,o as m,d as j,p as g,T as u,A as N}from"./index.Cw3mZMWB.js";import"./vendor-redux.rUoA4kI-.js";const p=()=>{const[N,p]=t.useState(134),[v,b]=t.useState(""),[y,f]=t.useState(),{data:S,isLoading:P,error:C,refetch:I}=h({page:1,limit:5}),{data:k,isLoading:w,error:B}=x(),{data:A,isLoading:F,error:z}=m(),{data:H,isLoading:L,error:O}=j(N,{skip:!N}),{data:T,isLoading:_,error:D}=g({query:v,page:1},{skip:!v||v.length<2});return s.jsxs(e,{className:"py-5",children:[s.jsx(r,{className:"mb-4",children:s.jsxs(a,{children:[s.jsx("h1",{children:"API Integration Test Page"}),s.jsx("p",{className:"text-muted",children:"Testing real Laravel API endpoints."}),s.jsxs("div",{className:"d-flex gap-2 mb-3",children:[s.jsx(i,{variant:"primary",onClick:()=>{return s=void 0,e=null,r=function*(){try{u.info("Testing API methods..."),u.success("API methods tested successfully! Check console for results.")}catch(s){u.error("API test failed: "+s)}},new Promise(((a,i)=>{var n=s=>{try{d(r.next(s))}catch(e){i(e)}},l=s=>{try{d(r.throw(s))}catch(e){i(e)}},d=s=>s.done?a(s.value):Promise.resolve(s.value).then(n,l);d((r=r.apply(s,e)).next())}));var s,e,r},children:"Test API Methods"}),s.jsx(i,{variant:"info",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})}),s.jsx(r,{className:"mb-4",children:s.jsx(a,{children:s.jsxs(n,{children:[s.jsx(n.Header,{children:s.jsxs("h4",{children:["Categories (",(null==k?void 0:k.length)||0,")"]})}),s.jsxs(n.Body,{children:[w&&s.jsx(l,{animation:"border"}),B&&s.jsxs(d,{variant:"danger",children:["Error loading categories: ",JSON.stringify(B)]}),k&&s.jsx(r,{children:k.slice(0,6).map((e=>s.jsx(a,{md:4,className:"mb-3",children:s.jsx(n,{children:s.jsxs(n.Body,{children:[s.jsx("h6",{children:e.category}),s.jsxs("p",{className:"small text-muted",children:["ID: ",e.id," | Products: ",e.category_text,e.isShownInBanner()&&s.jsx("span",{className:"badge bg-warning ms-2",children:"Banner"})]}),s.jsx(i,{size:"sm",variant:"outline-primary",onClick:()=>f(e.id),children:"Filter Products"})]})})},e.id)))})]})]})})}),s.jsx(r,{className:"mb-4",children:s.jsx(a,{children:s.jsxs(n,{children:[s.jsxs(n.Header,{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("h4",{children:["Products (",(null==S?void 0:S.total)||0,")"]}),s.jsxs("div",{className:"d-flex gap-2",children:[y&&s.jsx(i,{size:"sm",variant:"outline-secondary",onClick:()=>f(void 0),children:"Clear Filter"}),s.jsx(i,{size:"sm",variant:"outline-primary",onClick:()=>I(),children:"Refresh"})]})]}),s.jsxs(n.Body,{children:[P&&s.jsx(l,{animation:"border"}),C&&s.jsxs(d,{variant:"danger",children:["Error loading products: ",JSON.stringify(C)]}),S&&s.jsx(r,{children:S.data.map((e=>s.jsx(a,{md:6,lg:4,className:"mb-3",children:s.jsxs(n,{children:[s.jsx(n.Img,{variant:"top",src:e.getMainImage(),style:{height:"200px",objectFit:"cover"}}),s.jsxs(n.Body,{children:[s.jsx("h6",{children:e.name}),s.jsx("p",{className:"text-success fw-bold",children:e.getFormattedPrice()}),s.jsxs("p",{className:"small text-muted",children:["Category: ",e.category_text," | Colors: ",e.hasColors()?e.getColors().join(", "):"None"," | Stock: ",e.isInStock()?"Yes":"No"]}),s.jsx("div",{className:"d-flex gap-1",children:s.jsx(i,{size:"sm",variant:"outline-info",onClick:()=>p(e.id),children:"View Details"})})]})]})},e.id)))})]})]})})}),s.jsx(r,{className:"mb-4",children:s.jsx(a,{children:s.jsxs(n,{children:[s.jsx(n.Header,{children:s.jsx("h4",{children:"Search Products"})}),s.jsxs(n.Body,{children:[s.jsx(c.Control,{type:"text",placeholder:"Search for products...",value:v,onChange:s=>b(s.target.value),className:"mb-3"}),_&&s.jsx(l,{animation:"border"}),D&&s.jsxs(d,{variant:"danger",children:["Search error: ",JSON.stringify(D)]}),T&&v&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-muted",children:["Found ",T.total,' results for "',v,'"']}),s.jsx(r,{children:T.data.slice(0,3).map((e=>s.jsx(a,{md:4,className:"mb-3",children:s.jsx(n,{children:s.jsxs(n.Body,{children:[s.jsx("h6",{children:e.name}),s.jsx("p",{className:"text-success",children:e.getFormattedPrice()})]})})},e.id)))})]})]})]})})}),s.jsx(r,{className:"mb-4",children:s.jsx(a,{children:s.jsxs(n,{children:[s.jsx(n.Header,{children:s.jsxs("h4",{children:["Single Product Details (ID: ",N,")"]})}),s.jsxs(n.Body,{children:[L&&s.jsx(l,{animation:"border"}),O&&s.jsxs(d,{variant:"danger",children:["Error loading product: ",JSON.stringify(O)]}),H&&s.jsxs(r,{children:[s.jsx(a,{md:4,children:s.jsx("img",{src:H.getMainImage(),alt:H.name,className:"img-fluid rounded"})}),s.jsxs(a,{md:8,children:[s.jsx("h3",{children:H.name}),s.jsx("p",{className:"text-success h4",children:H.getFormattedPrice()}),s.jsx("p",{children:H.description||"No description available"}),s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-sm-4",children:s.jsx("strong",{children:"Category:"})}),s.jsx("div",{className:"col-sm-8",children:H.category_text})]}),s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-sm-4",children:s.jsx("strong",{children:"Stock:"})}),s.jsx("div",{className:"col-sm-8",children:H.isInStock()?"In Stock":"Out of Stock"})]}),H.hasColors()&&s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-sm-4",children:s.jsx("strong",{children:"Colors:"})}),s.jsx("div",{className:"col-sm-8",children:H.getColors().join(", ")})]}),H.hasSizes()&&s.jsxs("div",{className:"row mb-3",children:[s.jsx("div",{className:"col-sm-4",children:s.jsx("strong",{children:"Sizes:"})}),s.jsx("div",{className:"col-sm-8",children:H.getSizes().join(", ")})]})]})]})]})]})})}),s.jsx(r,{className:"mb-4",children:s.jsx(a,{children:s.jsxs(n,{children:[s.jsx(n.Header,{children:s.jsxs("h4",{children:["Vendors (",(null==A?void 0:A.length)||0,")"]})}),s.jsxs(n.Body,{children:[F&&s.jsx(l,{animation:"border"}),z&&s.jsxs(d,{variant:"danger",children:["Error loading vendors: ",JSON.stringify(z)]}),A&&s.jsx(r,{children:A.slice(0,4).map((e=>s.jsx(a,{md:6,className:"mb-3",children:s.jsx(n,{children:s.jsxs(n.Body,{children:[s.jsx("h6",{children:e.name||`${e.first_name} ${e.last_name}`}),s.jsxs("p",{className:"small text-muted",children:["Business: ",e.business_name||"N/A"," | Status: ",e.status," | Email: ",e.email||"N/A"]})]})})},e.id)))})]})]})})}),s.jsx(r,{children:s.jsx(a,{children:s.jsxs(n,{children:[s.jsx(n.Header,{children:s.jsx("h4",{children:"Navigation"})}),s.jsx(n.Body,{children:s.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[s.jsx(o,{to:"/",className:"btn btn-outline-primary",children:"Home"}),s.jsx(o,{to:"/products",className:"btn btn-outline-primary",children:"Products Page"}),s.jsx(o,{to:"/categories",className:"btn btn-outline-primary",children:"Categories Page"}),s.jsx(o,{to:"/account",className:"btn btn-outline-primary",children:"Account"}),s.jsx(o,{to:"/toast-demo",className:"btn btn-outline-secondary",children:"Toast Demo"})]})})]})})})]})};export{p as default};
